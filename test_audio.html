<!DOCTYPE html>
<html>
<head>
  <title>VOYO Audio Test</title>
</head>
<body>
  <h1>VOYO Audio Stream Test</h1>

  <h2>Test 1: Direct Stream URL</h2>
  <audio id="audio1" controls src="http://localhost:3001/cdn/stream/WcIcVapfqXw?type=audio&quality=high"></audio>
  <p id="status1">Status: Loading...</p>

  <h2>Test 2: Format 18 (muxed video+audio)</h2>
  <video id="video1" controls src="http://localhost:3001/proxy?v=WcIcVapfqXw&type=video" style="width: 300px;"></video>
  <p id="status2">Status: Loading...</p>

  <script>
    const audio1 = document.getElementById('audio1');
    const status1 = document.getElementById('status1');

    audio1.addEventListener('canplay', () => status1.textContent = 'Status: Can Play!');
    audio1.addEventListener('error', (e) => {
      console.error('Audio error:', e);
      status1.textContent = 'Status: ERROR - ' + (audio1.error?.message || audio1.error?.code);
    });
    audio1.addEventListener('loadedmetadata', () => {
      status1.textContent = 'Status: Metadata loaded, duration=' + audio1.duration;
    });

    const video1 = document.getElementById('video1');
    const status2 = document.getElementById('status2');

    video1.addEventListener('canplay', () => status2.textContent = 'Status: Can Play!');
    video1.addEventListener('error', (e) => {
      console.error('Video error:', e);
      status2.textContent = 'Status: ERROR - ' + (video1.error?.message || video1.error?.code);
    });
  </script>
</body>
</html>
